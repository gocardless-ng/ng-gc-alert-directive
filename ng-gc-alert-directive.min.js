/**
 * @license ng-gc-alert-directive v0.1.0
 * (c) 2013-2013 GoCardless, Ltd.
 * https://github.com/gocardless-ng/ng-gc-alert-directive.git
 * License: MIT
 */
!function(){"use strict";angular.module("gc.alertController",["gc.alertService"]).controller("AlertController",["$scope","AlertService",function(a,b){a.appAlerts=b.get(),a.closeAlert=function(b){a.appAlerts.splice(b,1)}}]),angular.module("gc.alert",["alert-template.html"]).directive("alert",["$location","$window",function(a,b){return{restrict:"E",templateUrl:"alert-template.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"},link:function(c){b.setTimeout(c.$apply(function(){c.close()}),5e3);var d;c.$watch(function(){return a.url()},function(){d&&c.close(),d=!0})}}}]),angular.module("gc.alertService",[]).factory("AlertService",[function(){var a=[];return{get:function(){return a},success:function(a){return this._add({type:"success",message:a}),this},error:function(a){return this._add({type:"error",message:a}),this},_add:function(b){return-1===this._indexOf(b)&&a.push(b),this},_indexOf:function(b){var c=-1;return a.forEach(function(a,d){a.message===b.message&&a.type===b.type&&(c=d)}),c}}}]),angular.module("alert-template.html",[]).run(function(a){a.put("alert-template.html",'<div class="alert"><div class="notification u-relative"><span ng-transclude=""></span> <a href="" ng-click="close()">close</a></div></div>')})}();