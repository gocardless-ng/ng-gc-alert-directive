/**
 * @license ng-gc-alert-directive v0.1.0
 * (c) 2013-2013 GoCardless, Ltd.
 * https://github.com/gocardless-ng/ng-gc-alert-directive.git
 * License: MIT
 */
!function(){"use strict";angular.module("gc.alertController",["gc.alertService"]).controller("AlertController",["$scope","AlertService",function(a,b){a.appAlerts=b.get(),a.closeAlert=function(b){a.appAlerts.splice(b,1)}}]),angular.module("gc.alert",["alert-template.html"]).directive("alert",["$location","$window",function(a,b){return{restrict:"E",templateUrl:"alert-template.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"},link:function(c,d){function e(a){return function(){c.$apply(a)}}b.setTimeout(e(function(){d.addClass("alert--show")}),0),b.setTimeout(e(function(){d.removeClass("alert--show"),b.setTimeout(e(function(){c.close()}),500)}),3500);var f;c.$watch(function(){return a.url()},function(){f&&c.close(),f=!0})}}}]),angular.module("gc.alertService",[]).factory("AlertService",[function(){var a=[];return{get:function(){return a},success:function(a){return this._add({type:"success",message:a}),this},error:function(a){return this._add({type:"error",message:a}),this},_add:function(b){return-1===this._indexOf(b)&&a.push(b),this},_indexOf:function(b){var c=-1;return a.forEach(function(a,d){a.message===b.message&&a.type===b.type&&(c=d)}),c}}}]),angular.module("alert-template.html",[]).run(["$templateCache",function(a){a.put("alert-template.html",'<div class="alert" ng-class="type && \'alert--\' + type"><div class="site__container"><div class="alert__content"><i class="alert__content__icon" ng-class="type && \'alert__content__icon--\' + type"></i><div ng-transclude=""></div><i class="alert__content__close ss-delete" ng-click="close()"></i></div></div></div>')}])}();